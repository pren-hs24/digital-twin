<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <link
            rel="icon"
            type="image/svg+xml"
            href="/vite.svg"
        />
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1.0"
        />
        <title>PREN</title>
    </head>
    <body>
        <div id="app">
            <h1>Digital Twin</h1>
            <div class="content">
                <div class="playground">
                    <div
                        id="konva-container"
                        class="card"
                    ></div>
                    <div class="targets">
                        <button
                            class="primary"
                            onclick="navigateTo('A')"
                        >
                            A
                        </button>
                        <button
                            class="primary"
                            onclick="navigateTo('B')"
                        >
                            B
                        </button>
                        <button
                            class="primary"
                            onclick="navigateTo('C')"
                        >
                            C
                        </button>
                        <br />
                        <br />
                        <button onclick="navigateTo('START')">(clear)</button>
                        <button onclick="traverseAllEdges()">
                            (Traverse All Edges)
                        </button>
                    </div>
                </div>
                <aside>
                    <div class="mathing">
                        <h1 id="estimated-duration">N/A</h1>
                        <span>Estimated drive duration</span>

                        <h1 id="obstacle-count">N/A</h1>
                        <span>Obstacles</span>
                    </div>
                    <div class="editor card">
                        <strong>
                            <p id="edge-selection">Select a path to edit</p>
                        </strong>
                        <div class="group">
                            <label>
                                <input
                                    disabled
                                    type="checkbox"
                                    id="disabled"
                                />
                                Disabled
                            </label>
                        </div>
                        <div class="group">
                            <label>
                                <input
                                    disabled
                                    type="checkbox"
                                    id="obstructed"
                                />
                                Obstructed
                            </label>
                        </div>
                        <div class="group">
                            <label for="weight">Weight:</label>
                            <input
                                disabled
                                type="number"
                                id="weight"
                            />
                        </div>
                        <button
                            disabled
                            class="primary"
                            id="apply-to-edge"
                        >
                            Apply Changes
                        </button>
                    </div>
                </aside>
            </div>
            <div class="sequence card">
                <h2>Sequence</h2>
                <pre
                    class="mermaid"
                    id="sequence-diagram"
                >
sequenceDiagram
</pre
                >
            </div>
            <div class="log card">
                <h2>Log</h2>
                <div id="log"></div>
            </div>
        </div>
        <script
            type="module"
            src="/src/main.ts"
        ></script>
    </body>
</html>

<style>
    #sequence-diagram {
        white-space: pre-wrap;
        background: white;
    }

    #app {
        display: flex;
        flex-direction: column;
        gap: 1em;
    }

    #log {
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        max-width: 70ch;
        padding: 1em;

        .log-entry {
            margin: 0;
            font-family: "Courier New", Courier, monospace;
        }
    }
</style>
